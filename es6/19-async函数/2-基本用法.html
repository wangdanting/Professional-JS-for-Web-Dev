e<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>

<script>
  //async函数返回一个 Promise 对象，可以使用then方法添加回调函数
  //当函数执行的时候，一旦遇到await就会先返回，等到异步操作完成，再接着执行函数体内后面的语句

  const step1 = (value) => {
    return new Promise((resolve, reject) => {
      setTimeout(() => resolve(value + 1), 3000);
    })
  };

  const step2 = (value) => {
    return new Promise((resolve, reject) => {
      setTimeout(() => resolve(value + 2), 3000);
    })
  };

  const step3 = (value) => {
    return new Promise((resolve, reject) => {
      setTimeout(() => resolve(value + 3), 3000);
    })
  };

  const asyncFn = async (initial = 1) => {
    const value1 = await step1(initial);
    const value2 = await step2(value1);
    const value3 = await step3(value2);
    return value3;
  }

  // asyncFn().then(result => console.log(result, 'result')); //7 'result'

  //指定多少毫秒后输出一个值
  const timeout = (ms) => {
    return new Promise((resolve, reject) => {
      setTimeout(resolve, ms);
    })
  };

  const asyncPrint = async (value, ms) => {
    await timeout(ms);
    console.log(value);
  }

  asyncPrint('hello world', 3000); //hello world
</script>
</body>
</html>